
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>PND4</title>
  <meta name="author" content="">

  
  <meta name="description" content="Conventions Server &ndash; aka headless. Where X apps will be run on.
Client &ndash; aka laptop. Where apps will be shown. Setting up the Server: &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.pnd4.net/blog/page/7">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="PND4" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='https://fonts.googleapis.com/css?family=Coda:400,800' rel='stylesheet' type='text/css'>

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">PND4</a></h1>
  
    <h2>/dev/notes</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.pnd4.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Home</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/profile/">Profile</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/13/x11-over-ssh-tunnel/">X11 Over SSH Tunnel</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-13T09:05:07-07:00" pubdate data-updated="true">Aug 13<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="center" src="/images/2012-08-13-x11-over-ssh-tunnel/openssh2.gif"></p>

<h2>Conventions</h2>

<ul>
<li><p>Server &ndash; aka headless. Where X apps will be run on.</p></li>
<li><p>Client &ndash; aka laptop. Where apps will be shown.</p></li>
</ul>


<h2>Setting up the Server:</h2>

<p>Start by running sshd and configuring /etc/ssh/sshd_config</p>

<ul>
<li><p>Enable the <strong>AllowTcpForwarding</strong> option in <code>ssh**d**_config</code> on the <strong>server</strong>.</p></li>
<li><p>Enable the <strong>X11Forwarding</strong> option in <code>ssh**d**_config</code> on the <strong>server</strong>.</p></li>
<li><p>Set the <strong>X11DisplayOffset</strong> option in <code>ssh**d**_config</code> on the <strong>server</strong> to 10.</p></li>
<li><p>Enable the <strong>X11UseLocalhost</strong> option in <code>ssh**d**_config</code> on the <strong>server</strong>.</p></li>
</ul>


<p>Restart the server</p>

<p>Check /etc/hosts and make sure it has been configured with correct hostnames and IPs.</p>

<h2>Setting up the Client</h2>

<p>Configure /etc/ssh/ssh_config</p>

<ul>
<li><p>Enable the <strong>ForwardX11</strong> option in <code>ssh_config</code> on the <strong>client</strong>.</p></li>
<li><p>Or.. just use &ldquo;ssh -X&rdquo; [or -Y for X11 Trusted Forwarding] when you ssh into the server (for security)</p></li>
</ul>


<h2>Testing</h2>

<p>SSH into the server with &ldquo;ssh -X <a href="&#109;&#x61;&#105;&#108;&#x74;&#111;&#x3a;&#x75;&#115;&#x65;&#x72;&#64;&#x31;&#48;&#46;&#x30;&#46;&#48;&#x2e;&#49;">&#117;&#x73;&#101;&#114;&#x40;&#x31;&#48;&#46;&#48;&#x2e;&#48;&#x2e;&#x31;</a>&rdquo; and then run an X application such as xeyes, xterm, xclock, et cetera.. and enjoy.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/12/intel-graphics-and-early-kms/">Intel Graphics and early-KMS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-12T10:28:59-07:00" pubdate data-updated="true">Aug 12<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="center" src="/images/2012-08-12-intel-graphics-and-early-kms/intel-logo.jpg"></p>

<p><em>Since just about every laptop or netbook I&rsquo;ve come into contact with has a Intel motherboard, I figured this topic should be covered to get the most out of your hardware, improve your overall experience, and simply enough, to do things right. I had to learn a little bit about KMS myself recently because sometimes things dont work out-of-the-box.</em></p>

<p><em>You want to enable KMS because it allows the kernel to set the native resolution on the frame-buffer. The effects of this are fast TTY-switching, enhanced 3D performance, and in some cases power-saving features.</em></p>

<p>In order to enable KMS on the Intel mobile platform some changes possibly have to be made to your Kernel, X installation, bootloader, and startup configuration.</p>

<p><strong>Kernel </strong>changes may only be necessary if you compiled your own (aka gentoo). In which case, simply enable the frame-buffer options:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Device Drivers --->
</span><span class='line'>  Graphics support --->
</span><span class='line'>    Support for frame buffer devices --->
</span><span class='line'>    (Disable all drivers, including VGA, Intel, nVidia, and ATI)
</span><span class='line'>
</span><span class='line'>    (Further down, enable basic console support. KMS uses this.)
</span><span class='line'>    Console display driver support --->
</span><span class='line'>      &lt;*>  Framebuffer Console Support
</span><span class='line'>
</span><span class='line'>    /dev/agpgart (AGP Support) --->
</span><span class='line'>      &lt;*>  Intel 440LX/BX/GX, I8xx and E7x05 chipset support
</span><span class='line'>      Direct Rendering Manager (XFree86 4.1.0 and higher DRI support) --->
</span><span class='line'>      &lt;*>  Intel 8xx/9xx/G3x/G4x/HD Graphics
</span><span class='line'>      [*]    Enable modesetting on intel by default</span></code></pre></td></tr></table></div></figure>


<p><strong>Xorg </strong>&rsquo;s only requirement is that we install it and the proper xf86-video-intel driver package.</p>

<p><strong>Bootloader</strong> changes are done so that our grub does not disable, use another driver, or try to set the resolution itself. Remember, we are letting the Kernel do this for us. so edit your /etc/default/grub and remove any of the following:</p>

<ul>
<li><p>Any &ldquo;nomodeset&rdquo;, &ldquo;i915.modeset=0&rdquo;, &ldquo;vga=&rdquo; or &#8221;video=&ldquo; at all present.</p></li>
<li><p>Anything that would enable another frame-buffer driver such as uvesafb.</p></li>
</ul>


<p><strong>Start-up configuration</strong> must reflect our efforts so that KMS is started early on in the process as possible to get the best effect. changes should be made to /etc/mkinitcpio.conf in Arch, or /etc/conf.d/modules in Gentoo to include the i915 module.</p>

<p>Finally regen your initial-ramdisk if you used one and your boot partition&rsquo;s GRUB config.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>## make initrd
</span><span class='line'># mkinitcpio -p linux
</span><span class='line'>## generate a GRUB config
</span><span class='line'># grub-mkconfig -o /boot/grub/grub.cfg</span></code></pre></td></tr></table></div></figure>


<p>Reboot and [hopefully] reap the fruits of all your hard work.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/10/64/">Herp Derp.. 3 Std&#8217;s and a Null</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-10T10:03:29-07:00" pubdate data-updated="true">Aug 10<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="center" src="/images/2012-08-10-64/screenshot-08102012-050248-pm2.png"></p>

<p>Today &lsquo;patient&rsquo; and I learned with some help from &lsquo;dizzie&rsquo; about how exactly to use /dev/null and the other pseudodevices to control input and output in UNIX-like environments. This is something you&rsquo;ll see a lot in command-line scripting languages such as bash or Python.</p>

<p>A good way to check which &lsquo;devices&rsquo; correspond with which number is by running this command.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ls -l /dev/null /dev/std*</span></code></pre></td></tr></table></div></figure>


<p>In the output we can see that there are 3 file descriptors built into our UNIX environments. 0 is linked STDOUT. 1 is linked to STDIN, and finally 2 is linked to STDERR. /dev/null being called the &lsquo;bit-bucket&rsquo; and certainly is a doorway to hell in which any data becomes a doomed soul.</p>

<p>Now, you&rsquo;re gonna want to know how to use these devices in a command line. Look no further:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>ls -l / 2>/dev/null</span></code></pre></td></tr></table></div></figure>


<p>This command will list your root partition with &ldquo;long lists&rdquo; and redirect any errors there may be to the bit-bucket. This can have uses for grepping or finds that may have some errors in the output you want to filter to still have something usable, or to plain make something be quiet which would normally complain on STDOUT.</p>

<p>A couple more resources:
<a href="http://www.xaprb.com/blog/2006/06/06/what-does-devnull-21-mean/">Novell: Cool Solutions: What does “> /dev/null 2>&amp;1″ mean?</a>
<a href="http://www.novell.com/coolsolutions/feature/19859.html">Xaprb&rsquo;s Blog: /dev/null</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/08/09/installing-bt5-chroot-on-the-sprint-htc-evo-4g-non-lte/">Installing BT5 (Chroot) on the Sprint HTC Evo 4G (Non LTE)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-08-09T18:42:08-07:00" pubdate data-updated="true">Aug 9<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img class="center" src="/images/2012-08-10-installing-bt5-chroot-on-the-sprint-htc-evo-4g-non-lte/backtrack-logo1.jpg"></p>

<p>Tonight ParkerR and I decided to get some pentesting tools into our devices. He has a Nexus 7 and I.. well I have my phone. Anyway, after a frustrating time working with p7zip which was used in the particular mirror we chose, we finally got it extracted. So grab your files <a href="http://forum.xda-developers.com/showthread.php?t=1079898">HERE</a> and follow along,</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ 7z e downloaded-file.7z.001</span></code></pre></td></tr></table></div></figure>


<p>Next we had to copy over the files to the SD-card as per the instructions. Since my uSD (MicroSD) port on my phone is uber-janky I just turned off my phone and pulled out the uSD card instead of using ADB and opt&rsquo;d for the slot in my trusty laptop. I was then able to mount the removable storage and [ever so slowly and unreliably] copy over the extracted contents into the SD&rsquo;s bt5 folder like so:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mount -t vfat /dev/mmcblk0p1 /mnt/sdcard -o rw
</span><span class='line'>mkdir /mnt/sdcard/bt5
</span><span class='line'># because copy was not working too well for me.. we dd.
</span><span class='line'>dd if=/home/user/bt5/bt5.img of=/mnt/sdcard/bt5/bt5.img
</span><span class='line'># answer no to the clobber
</span><span class='line'>cp -i /home/user/bt5/* /mnt/sdcard/bt5/ 
</span><span class='line'># cd && umount /mnt/sdcard</span></code></pre></td></tr></table></div></figure>


<p>Having unmounted the sdcard in this last line, we can now remove the card and toss that back into our phone and boot up our Android phone as usual.</p>

<p>Fire up the Terminal emulator and run the &lsquo;bt&rsquo; script included as a super-user.. or if you have SSHDroid installed, we can SSH into our phone as root and run the script to start up the chroot&rsquo;d environment.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>$ ssh 192.168.1.&lt;android> -l root
</span><span class='line'>(android)# sh /sdcard/bt5/bt</span></code></pre></td></tr></table></div></figure>


<p>Hopefully that starts up your Backtrack 5 chrooted environment. If you used Terminal Emulator you&rsquo;re good to walk down the street and still use the command line to your heart&rsquo;s desire. Unfortunately for SSH, soon as you lose your LAN connection, the session will drop out. So be sure to consider that before embarking out on your mission.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2012/07/08/defcon-or-bust-1/">Defcon or Bust !!1!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-07-08T06:19:19-07:00" pubdate data-updated="true">Jul 8<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve decided that this summer I&rsquo;d like to attend Def Con 20. After watching talks from previous Def Cons and other various events over the years on-line its finally time for me to get out and physically be there. I&rsquo;ve been trying to head out to some &lsquo;talks&rsquo; out here in the bay area too, but since Def Con is coming right up, and I still live on the right coast, why not. Its a great opportunity to see what&rsquo;s new in the world of technology first hand and meet the actual people developing it all in one place.</p>

<p>If you even consider knowing me, even just a little bit, you know that I&rsquo;m a huge fan of this kind of stuff, and have been since primary school. I&rsquo;ve always tried to make myself available to help solve problems and willing to guide friends and family that have also shown interest in the area with all I can offer. Its a learning experience, every time. Like they say, &ldquo;Teach a man to fish and you feed him for a lifetime.&rdquo; Which is why I urge anyone reading this to come to with, simply because its pretty much impossible to walk out of one of these places and not be inspired.. not to mention its in Vegas :)</p>

<p>Unfortunately, at this point in my life there&rsquo;s a lot of free time to be spent, and life is short. Conversely, money is short-coming and school is annually getting more expensive. Education and opportunities we can all agree are valuable. Getting me to Def Con 20 isn&rsquo;t going to be easy, but all I have is time,`a willing mind, and a drive to be there. With a little help I&rsquo;m sure I&rsquo;ll be hacking away with the best of them out in Las Vegas at the end of the month.</p>

<p>&mdash;pnd4</p>

<p><img class="center" src="http://img.photobucket.com/albums/v159/comfreak/dc20-logo.png"></p>

<p><a href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&amp;business=7W7HS7N8WVYXJ&amp;lc=US&amp;item_name=Send%20Kevin%20to%20Defcon%2020&amp;item_number=115501337&amp;currency_code=USD&amp;bn=PP%2dDonationsBF%3adc20%2dlogo%2epng%3aNonHosted"><img class="center" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif"></a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/8/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/6/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/07/02/creating-a-pkgbuild-for-lzo-2-dot-08-on-archlinuxarm/">Creating a PKGBUILD for lzo-2.08 on ArchLinuxARM</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/31/cli-converting-hd-sd/">CLI Converting HD > SD</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/05/03/pay-per-stream-bypass/">Pay-per-webcast?.. Srsly?</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/pnd4">@pnd4</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'pnd4',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
